import"./main.min.js";import{b as y,c as b}from"./common.min.js";import"./productcomp.min.js";let p={getErrors(a){let e=0,t=a.querySelectorAll("[required]");return t.length&&t.forEach(s=>{(s.offsetParent!==null||s.tagName==="SELECT")&&!s.disabled&&(e+=this.validateInput(s))}),e},validateInput(a){let e=0;return a.type==="email"?(a.value=a.value.replace(" ",""),this.emailTest(a)?(this.addError(a),this.removeSuccess(a),e++):(this.removeError(a),this.addSuccess(a))):a.type==="checkbox"&&!a.checked?(this.addError(a),this.removeSuccess(a),e++):a.value.trim()?(this.removeError(a),this.addSuccess(a)):(this.addError(a),this.removeSuccess(a),e++),e},addError(a){a.classList.add("--form-error"),a.parentElement.classList.add("--form-error");let e=a.parentElement.querySelector("[data-fls-form-error]");e&&a.parentElement.removeChild(e),a.dataset.flsFormErrtext&&a.parentElement.insertAdjacentHTML("beforeend",`<div data-fls-form-error>${a.dataset.flsFormErrtext}</div>`)},removeError(a){a.classList.remove("--form-error"),a.parentElement.classList.remove("--form-error"),a.parentElement.querySelector("[data-fls-form-error]")&&a.parentElement.removeChild(a.parentElement.querySelector("[data-fls-form-error]"))},addSuccess(a){a.classList.add("--form-success"),a.parentElement.classList.add("--form-success")},removeSuccess(a){a.classList.remove("--form-success"),a.parentElement.classList.remove("--form-success")},removeFocus(a){a.classList.remove("--form-focus"),a.parentElement.classList.remove("--form-focus")},formClean(a){a.reset(),setTimeout(()=>{let e=a.querySelectorAll("input,textarea");for(let s=0;s<e.length;s++){const l=e[s];p.removeFocus(l),p.removeSuccess(l),p.removeError(l)}let t=a.querySelectorAll('input[type="checkbox"]');if(t.length&&t.forEach(s=>{s.checked=!1}),window.flsSelect){let s=a.querySelectorAll("select[data-fls-select]");s.length&&s.forEach(l=>{window.flsSelect.selectBuild(l)})}},0)},emailTest(a){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(a.value)}};class _{constructor(e,t=null){let s={init:!0,speed:150};if(this.config=Object.assign(s,e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"--select-disabled",classSelectTag:"--select-tag",classSelectOpen:"--select-open",classSelectActive:"--select-active",classSelectFocus:"--select-focus",classSelectMultiple:"--select-multiple",classSelectCheckBox:"--select-checkbox",classSelectOptionSelected:"--select-selected",classSelectPseudoLabel:"--select-pseudo-label"},this._this=this,this.config.init){const l=t?document.querySelectorAll(t):document.querySelectorAll("select[data-fls-select]");l.length&&this.selectsInit(l)}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach((t,s)=>{this.selectInit(t,s+1)}),document.addEventListener("click",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("keydown",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("focusin",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("focusout",(function(t){this.selectsActions(t)}).bind(this))}selectInit(e,t){if(t&&(e.dataset.flsSelectId=t),e.options.length){const s=this;let l=document.createElement("div");l.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(l,e),l.appendChild(e),e.hidden=!0,this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show&&this.getSelectElement(l,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)),l.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.flsSelectSpeed=e.dataset.flsSelectSpeed?e.dataset.flsSelectSpeed:this.config.speed,this.config.speed=+e.dataset.flsSelectSpeed,e.addEventListener("change",function(c){s.selectChange(c)})}}selectBuild(e){const t=e.parentElement;e.id&&(t.id=e.id,e.removeAttribute("id")),t.dataset.flsSelectId=e.dataset.flsSelectId,e.dataset.flsSelectModif&&t.classList.add(`select--${e.dataset.flsSelectModif}`),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-fls-select-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-fls-select-search")&&this.searchActions(t),e.hasAttribute("data-fls-select-open")&&this.selectAction(t),this.selectDisabled(t,e)}selectsActions(e){const t=e.target,s=e.type,l=t.closest(this.getSelectClass(this.selectClasses.classSelect)),c=t.closest(this.getSelectClass(this.selectClasses.classSelectTag));if(!l&&!c)return this.selects\u0421lose();const i=l||document.querySelector(`.${this.selectClasses.classSelect}[data-fls-select-id="${c.dataset.flsSelectId}"]`),n=this.getSelectElement(i).originalSelect;if(!n.disabled)if(s==="click"){const o=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),r=t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)),h=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));if(o){const d=document.querySelector(`.${this.selectClasses.classSelect}[data-fls-select-id="${o.dataset.flsSelectId}"] .select__option[data-fls-select-value="${o.dataset.flsSelectValue}"]`);this.optionAction(i,n,d)}else r?this.selectAction(i):h&&this.optionAction(i,n,h)}else s==="focusin"||s==="focusout"?l&&i.classList.toggle(this.selectClasses.classSelectFocus,s==="focusin"):s==="keydown"&&e.code==="Escape"&&this.selects\u0421lose()}selects\u0421lose(e){const s=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);s.length&&s.forEach(l=>{this.select\u0421lose(l)})}select\u0421lose(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),y(s,t.dataset.flsSelectSpeed),setTimeout(()=>{e.style.zIndex=""},t.dataset.flsSelectSpeed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.querySelectorAll(`.${this.selectClasses.classSelectOption}`);const l=t.dataset.flsSelectZIndex?t.dataset.flsSelectZIndex:3;if(this.setOptionsPosition(e),t.closest("[data-fls-select-one]")){const c=t.closest("[data-fls-select-one]");this.selects\u0421lose(c)}setTimeout(()=>{s.classList.contains("--slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),b(s,t.dataset.flsSelectSpeed),e.classList.contains(this.selectClasses.classSelectOpen)?e.style.zIndex=l:setTimeout(()=>{e.style.zIndex=""},t.dataset.flsSelectSpeed))},0)}setSelectTitleValue(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,l=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;l&&l.remove(),s.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t)),t.hasAttribute("data-fls-select-search")&&this.searchActions(e)}getSelectTitleValue(e,t){let s=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-fls-select-tags")&&(s=this.getSelectedOptionsData(t).elements.map(i=>`<span role="button" data-fls-select-id="${e.dataset.flsSelectId}" data-fls-select-value="${i.value}" class="--select-tag">${this.getSelectElementContent(i)}</span>`).join(""),t.dataset.flsSelectTags&&document.querySelector(t.dataset.flsSelectTags)&&(document.querySelector(t.dataset.flsSelectTags).innerHTML=s,t.hasAttribute("data-fls-select-search")&&(s=!1))),s=s.length?s:t.dataset.flsSelectPlaceholder||"",t.hasAttribute("data-fls-select-tags")||(s=s?s.map(i=>i.replace(/"/g,"&quot;")):"");let l="",c="";if(t.hasAttribute("data-fls-select-pseudo-label")&&(l=t.dataset.flsSelectPseudoLabel?` data-fls-select-pseudo-label="${t.dataset.flsSelectPseudoLabel}"`:' data-fls-select-pseudo-label="\u0417\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0430\u0442\u0440\u0438\u0431\u0443\u0442"',c=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive),t.hasAttribute("data-fls-select-search"))return`<div class="${this.selectClasses.classSelectTitle}"><span${l} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-fls-select-placeholder="${s}" class="${this.selectClasses.classSelectInput}"></span></div>`;{const i=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.flsSelectClass?` ${this.getSelectedOptionsData(t).elements[0].dataset.flsSelectClass}`:"";return`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${l} class="${this.selectClasses.classSelectValue}${c}"><span class="${this.selectClasses.classSelectContent}${i}">${s}</span></span></button>`}}getSelectElementContent(e){const t=e.dataset.flsSelectAsset?`${e.dataset.flsSelectAsset}`:"",s=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let l="";return l+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",l+=t?`<span class="${this.selectClasses.classSelectData}">`:"",l+=t?s:"",l+=t?"</span>":"",l+=t?`<span class="${this.selectClasses.classSelectText}">`:"",l+=e.textContent,l+=t?"</span>":"",l+=t?"</span>":"",l}getSelectPlaceholder(e){const t=Array.from(e.options).find(s=>!s.value);if(t)return{value:t.textContent,show:t.hasAttribute("data-fls-select-show"),label:{show:t.hasAttribute("data-fls-select-label"),text:t.dataset.flsSelectLabel}}}getSelectedOptionsData(e,t){let s=[];return e.multiple?s=Array.from(e.options).filter(l=>l.value).filter(l=>l.selected):s.push(e.options[e.selectedIndex]),{elements:s.map(l=>l),values:s.filter(l=>l.value).map(l=>l.value),html:s.map(l=>this.getSelectElementContent(l))}}getOptions(e){const t=(e.hasAttribute("data-fls-select-scroll"),"");+e.dataset.flsSelectScroll&&+e.dataset.flsSelectScroll;let s=Array.from(e.options);if(s.length>0){let l="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(s=s.filter(c=>c.value)),l+=`<div ${t}  class="${this.selectClasses.classSelectOptionsScroll}">`,s.forEach(c=>{l+=this.getOption(c,e)}),l+="</div>",l}}getOption(e,t){const s=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",l=e.selected&&!t.hasAttribute("data-fls-select-show-selected")&&!t.multiple?"hidden":"",c=e.dataset.flsSelectClass?` ${e.dataset.flsSelectClass}`:"",i=e.dataset.flsSelectHref?e.dataset.flsSelectHref:!1,n=e.hasAttribute("data-fls-select-href-blank")?'target="_blank"':"";let o="";return o+=i?`<a ${n} ${l} href="${i}" data-fls-select-value="${e.value}" class="${this.selectClasses.classSelectOption}${c}${s}">`:`<button ${l} class="${this.selectClasses.classSelectOption}${c}${s}" data-fls-select-value="${e.value}" type="button">`,o+=this.getSelectElementContent(e),o+=i?"</a>":"</button>",o}setOptions(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.innerHTML=this.getOptions(t)}setOptionsPosition(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,l=this.getSelectElement(e,this.selectClasses.classSelectOptionsScroll).selectElement,c=+t.dataset.flsSelectScroll?`${+t.dataset.flsSelectScroll}px`:"",i=+t.dataset.flsSelectOptionsMargin?+t.dataset.flsSelectOptionsMargin:10;if(e.classList.contains(this.selectClasses.classSelectOpen))setTimeout(()=>{e.classList.remove("select--show-top"),l.style.maxHeight=c},+t.dataset.flsSelectSpeed);else{s.hidden=!1;const n=l.offsetHeight?l.offsetHeight:parseInt(window.getComputedStyle(l).getPropertyValue("max-height")),o=s.offsetHeight>n?s.offsetHeight:n+s.offsetHeight,r=o-n;s.hidden=!0;const h=e.offsetHeight,d=e.getBoundingClientRect().top,v=d+o+h+r,f=window.innerHeight-(v+i);if(f<0){const g=o+f;g<100?(e.classList.add("select--show-top"),l.style.maxHeight=d<o?`${d-(o-d)}px`:c):(e.classList.remove("select--show-top"),l.style.maxHeight=`${g}px`)}}}optionAction(e,t,s){if(!e.querySelector(this.getSelectClass(this.selectClasses.classSelectOptions)).classList.contains("--slide")){if(t.multiple){s.classList.toggle(this.selectClasses.classSelectOptionSelected);const c=this.getSelectedOptionsData(t).elements;for(const n of c)n.removeAttribute("selected");const i=e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected));for(const n of i){const o=n.dataset.flsSelectValue,r=t.querySelector(`option[value="${o}"]`);r&&r.setAttribute("selected","selected")}}else t.hasAttribute("data-fls-select-show-selected")||setTimeout(()=>{const c=e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`);c&&(c.hidden=!1),s.hidden=!0},this.config.speed),t.value=s.dataset.flsSelectValue||s.textContent,this.selectAction(e);this.setSelectTitleValue(e,t),this.setSelectChange(t)}}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-fls-select-validate")&&p.validateInput(e),e.hasAttribute("data-fls-select-submit")&&e.value){let s=document.createElement("button");s.type="submit",e.closest("form").append(s),s.click(),s.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}searchActions(e){const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;t.addEventListener("input",()=>{const l=t.value.toLowerCase();s.querySelectorAll(`.${this.selectClasses.classSelectOption}`).forEach(i=>{const n=i.textContent.toLowerCase();i.hidden=!n.includes(l)}),s.hidden&&this.selectAction(e)})}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}}document.querySelector("select[data-fls-select]")&&window.addEventListener("load",()=>window.flsSelect=new _({})),document.addEventListener("DOMContentLoaded",function(){const a=document.querySelector(".header__filters"),e=document.querySelector(".catalog-filters"),t=document.querySelector(".catalog-filters__close"),s=document.documentElement;let l=!1;a&&a.addEventListener("click",function(){s.hasAttribute("data-filters-open")?(s.removeAttribute("data-filters-open"),s.removeAttribute("data-fls-scrolllock")):(s.setAttribute("data-filters-open",""),s.setAttribute("data-fls-scrolllock",""))}),t&&t.addEventListener("click",function(){s.removeAttribute("data-filters-open"),s.removeAttribute("data-fls-scrolllock"),l?(t.classList.remove("catalog-filters__close--active"),l=!1):(t.classList.add("catalog-filters__close--active"),l=!0)}),document.addEventListener("click",function(c){const i=e&&e.contains(c.target),n=a&&a.contains(c.target);!i&&!n&&(s.removeAttribute("data-filters-open"),s.removeAttribute("data-fls-scrolllock"))})});const u=document.getElementById("price-range");function m(){const a=u.min,e=u.max,s=(u.value-a)/(e-a)*100;u.style.setProperty("--value",s)}m(),u.addEventListener("input",m);function S(a){return(typeof a=="string"?parseFloat(a):a).toFixed(2)}const C=`<svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6.58301 12.4168C6.58301 12.4168 0.749674 8.96346 0.749674 6.58346C0.749674 4.20429 6.58301 0.750122 6.58301 0.750122" stroke="#3D3D3D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                     </svg>`,P=[{id:1,name:"Barberton Daisy",price:119,image:"/assets/img/plants/2.webp",category:"house-plants",size:"medium",isNew:!0,isSale:!1,rating:4.5,popularity:85},{id:2,name:"Angel Wing Begonia",price:169,image:"/assets/img/plants/3.webp",category:"potter-plants",size:"small",isNew:!0,isSale:!1,rating:4.8,popularity:92},{id:3,name:"African Violet",price:199,originalPrice:229,image:"/assets/img/plants/4.webp",category:"seeds",size:"medium",isNew:!1,isSale:!0,rating:4.7,popularity:78},{id:4,name:"Beach Spider Lily",price:129,image:"/assets/img/plants/1.webp",category:"small-plants",size:"large",isNew:!1,isSale:!1,rating:4.3,popularity:65},{id:5,name:"Blushing Bromeliad",price:139,image:"/assets/img/plants/6.webp",category:"big-plants",size:"small",isNew:!0,isSale:!1,rating:4.6,popularity:88},{id:6,name:"Aluminum Plant",price:179,image:"/assets/img/plants/7.webp",category:"succulents",size:"large",isNew:!1,isSale:!1,rating:4.4,popularity:72},{id:7,name:"Birds Nest Fern",price:99,image:"/assets/img/plants/8.webp",category:"terrariums",size:"medium",isNew:!0,isSale:!1,rating:4.2,popularity:95},{id:8,name:"Broadleaf Lady Palm",price:259,originalPrice:319,image:"/assets/img/plants/9.webp",category:"gardening",size:"large",isNew:!1,isSale:!0,rating:4.9,popularity:91},{id:9,name:"Chinese Evergreen",price:89,image:"/assets/img/plants/10.webp",category:"accessories",size:"small",isNew:!0,isSale:!1,rating:4.1,popularity:58},{id:10,name:"Cordyline Fruticosa",price:229,image:"/assets/img/plants/4.webp",category:"house-plants",size:"medium",isNew:!1,isSale:!1,rating:4.5,popularity:67},{id:11,name:"Croton Petra",price:149,originalPrice:189,image:"/assets/img/plants/6.webp",category:"potter-plants",size:"medium",isNew:!1,isSale:!0,rating:4.3,popularity:74},{id:12,name:"Dieffenbachia Camille",price:199,image:"/assets/img/plants/7.webp",category:"seeds",size:"large",isNew:!0,isSale:!1,rating:4.6,popularity:82}];class E{constructor(){this.allProducts=P,this.filteredProducts=[...this.allProducts],this.currentPage=1,this.itemsPerPage=9,this.currentFilter="all",this.currentSort="1",this.priceRange={min:39,max:1230},this.selectedCategory=null,this.selectedSize=null,this.mediaQueryListeners=[],this.init()}init(){this.setupResponsiveItemsPerPage(),this.setupEventListeners(),this.renderProducts(),this.updateFilterCounts()}setupResponsiveItemsPerPage(){const e=[{query:"(max-width: 479.98px)",itemsPerPage:8},{query:"(min-width: 480px) and (max-width: 719.98px)",itemsPerPage:9},{query:"(min-width: 720px) and (max-width: 949.98px)",itemsPerPage:12},{query:"(min-width: 950px)",itemsPerPage:9}];this.mediaQueryListeners.forEach(t=>t.removeAllListeners?.()),this.mediaQueryListeners=[],e.forEach(t=>{const s=window.matchMedia(t.query),l=c=>{c.matches&&(this.itemsPerPage=t.itemsPerPage,this.currentPage=1,this.renderProducts())};s.addEventListener("change",l),s.matches&&(this.itemsPerPage=t.itemsPerPage),this.mediaQueryListeners.push({mediaQuery:s,listener:l})})}setupEventListeners(){document.querySelectorAll("[data-filter]").forEach(e=>{e.addEventListener("click",t=>this.handleFilterButtonClick(t))}),document.querySelectorAll(".categories-catalog-filters__item").forEach(e=>{const t=e.querySelector("label"),s=e.querySelector('input[name="category"]');t&&t.addEventListener("click",l=>{l.preventDefault(),this.toggleCategoryFilter(e,s)})}),document.getElementById("price-range")?.addEventListener("input",e=>{const t=parseInt(e.target.value);this.priceRange.max=t,document.getElementById("max-price").textContent="$"+t}),document.querySelector(".price-range-catalog-filters__button")?.addEventListener("click",()=>{this.applyFilters()}),document.querySelectorAll(".size-catalog-filters__item").forEach(e=>{const t=e.querySelector("label"),s=e.querySelector('input[name="size"]');t&&t.addEventListener("click",l=>{l.preventDefault(),this.toggleSizeFilter(e,s)})}),document.addEventListener("selectCallback",e=>{const t=e.detail.select;(t.id==="sort-select"||t.name==="form[]")&&(this.currentSort=t.value,this.currentPage=1,this.applyFilters())}),document.querySelector(".pagination__list")?.addEventListener("click",e=>{const t=e.target.closest("button");if(!t)return;const s=parseInt(t.textContent);if(!isNaN(s))this.goToPage(s);else if(t.querySelector("svg"))if(t.classList.contains("pagination__prev")){const c=this.currentPage-1;c>=1&&this.goToPage(c)}else{const c=this.currentPage+1,i=Math.ceil(this.filteredProducts.length/this.itemsPerPage);c<=i&&this.goToPage(c)}})}handleFilterButtonClick(e){document.querySelectorAll("[data-filter]").forEach(t=>{t.classList.remove("filter-buttons-content-catalog__button--active")}),e.target.classList.add("filter-buttons-content-catalog__button--active"),this.currentFilter=e.target.dataset.filter,this.currentPage=1,this.applyFilters()}toggleCategoryFilter(e,t){const s=e.classList.contains("categories-catalog-filters__item--active");document.querySelectorAll(".categories-catalog-filters__item").forEach(l=>{l.classList.remove("categories-catalog-filters__item--active"),l.querySelector('input[name="category"]').checked=!1}),s?this.selectedCategory===t.value?this.selectedCategory=null:(e.classList.add("categories-catalog-filters__item--active"),t.checked=!0,this.selectedCategory=t.value):(e.classList.add("categories-catalog-filters__item--active"),t.checked=!0,this.selectedCategory=t.value),this.currentPage=1,this.applyFilters()}toggleSizeFilter(e,t){const s=e.classList.contains("size-catalog-filters__item--active");document.querySelectorAll(".size-catalog-filters__item").forEach(l=>{l.classList.remove("size-catalog-filters__item--active"),l.querySelector('input[name="size"]').checked=!1}),s?this.selectedSize===t.value?this.selectedSize=null:(e.classList.add("size-catalog-filters__item--active"),t.checked=!0,this.selectedSize=t.value):(e.classList.add("size-catalog-filters__item--active"),t.checked=!0,this.selectedSize=t.value),this.currentPage=1,this.applyFilters()}applyFilters(){let e=[...this.allProducts];this.currentFilter==="new"?e=e.filter(t=>t.isNew):this.currentFilter==="sale"&&(e=e.filter(t=>t.isSale)),this.selectedCategory&&(e=e.filter(t=>t.category===this.selectedCategory)),e=e.filter(t=>t.price>=this.priceRange.min&&t.price<=this.priceRange.max),this.selectedSize&&(e=e.filter(t=>t.size===this.selectedSize)),e=this.sortProducts(e),this.filteredProducts=e,this.currentPage=1,this.renderProducts(),this.updateFilterCounts()}sortProducts(e){const t=[...e];switch(this.currentSort){case"1":return t;case"2":return t.sort((s,l)=>l.price-s.price);case"3":return t.sort((s,l)=>s.price-l.price);case"4":return t.sort((s,l)=>l.isNew-s.isNew);case"5":return t.sort((s,l)=>l.rating-s.rating);case"6":return t.filter(s=>s.isSale&&s.originalPrice).sort((s,l)=>{const c=(s.originalPrice-s.price)/s.originalPrice*100;return(l.originalPrice-l.price)/l.originalPrice*100-c});case"7":return t.sort((s,l)=>l.popularity-s.popularity);default:return t}}updateFilterCounts(){document.querySelectorAll(".categories-catalog-filters__item").forEach(e=>{const t=e.querySelector('input[name="category"]'),s=e.querySelector("span");if(t&&s){const l=t.value,c=this.allProducts.filter(i=>i.category===l).length;s.textContent=`(${c})`}}),document.querySelectorAll(".size-catalog-filters__item").forEach(e=>{const t=e.querySelector('input[name="size"]'),s=e.querySelector("span");if(t&&s){const l=t.value;let c;this.selectedCategory?c=this.allProducts.filter(i=>i.size===l&&i.category===this.selectedCategory).length:c=this.allProducts.filter(i=>i.size===l).length,s.textContent=`(${c})`}})}createProductCard(e){const t=e.isSale&&e.originalPrice,s=t?Math.round((e.originalPrice-e.price)/e.originalPrice*100):0;return`
      <article class="productcomp__card" data-id="${e.id}">
         <div class="productcomp__product">
            <a href="product.html" class="productcomp__image">
               <img src="${e.image}" alt="${e.name}">
            </a>
            ${t?`<span class="productcomp__sale">${s}% OFF</span>`:""}
            <div class="productcomp__actions">
               <button type="button" aria-label="Add to cart" class="productcomp__item">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path d="M14.294 16.8721H8.24077C5.65655 16.8721 3.55412 14.7696 3.55412 12.1854V7.3816C3.55412 4.9793 2.35676 2.75568 0.351225 1.43334C-0.00894369 1.19588 -0.108379 0.711439 0.129078 0.35127C0.366535 -0.00893829 0.850939 -0.108412 1.21119 0.129123C2.35606 0.883986 3.28487 1.87959 3.94905 3.02586C4.09258 3.18665 5.24995 4.41338 7.14726 4.41338H16.142C18.596 4.36749 20.5168 6.83021 19.8752 9.19892L18.8397 13.3259C18.3159 15.4138 16.4466 16.8721 14.294 16.8721ZM4.91926 5.53431C5.04912 6.13424 5.11634 6.75284 5.11634 7.3816V12.1854C5.11634 13.9082 6.51796 15.3098 8.24077 15.3098H14.294C15.7291 15.3098 16.9752 14.3377 17.3245 12.9457L18.3599 8.81876C18.7412 7.41128 17.5997 5.94838 16.142 5.9756H7.14722C6.28913 5.9756 5.54224 5.7906 4.91926 5.53431ZM7.85021 19.0201C7.85021 18.4809 7.41307 18.0437 6.87383 18.0437C5.57828 18.0953 5.57942 19.9454 6.87383 19.9965C7.41307 19.9965 7.85021 19.5593 7.85021 19.0201ZM15.6222 19.0201C15.6222 18.4809 15.1851 18.0437 14.6459 18.0437C13.3503 18.0953 13.3514 19.9454 14.6459 19.9965C15.1851 19.9965 15.6222 19.5593 15.6222 19.0201ZM16.9231 8.31893C16.9231 7.88752 16.5734 7.53782 16.142 7.53782H7.45966C6.42329 7.57906 6.42407 9.05914 7.45966 9.10003H16.142C16.5734 9.10003 16.9231 8.75033 16.9231 8.31893Z" fill="#46A358"/>
                  </svg>
               </button>
               <button type="button" aria-label="Add to favorites" class="productcomp__item productcomp__item--favorite">
                  <svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path d="M12.5001 0.500065C10.0001 0.000118226 8.00014 2.5 8.00014 2.5C8.00014 2.5 6.00026 0.000164777 3.50015 0.500065C1.00003 0.999966 -0.499963 4.5 1.00015 7C2.50026 9.5 5.26647 11.2664 8.00014 14.0001C8.00014 14.0001 13.5001 9.5 15.0001 7C16.5001 4.5 15.0001 1.00001 12.5001 0.500065Z" stroke="black" stroke-width="1"/>
                  </svg>
               </button>
               <a href="product.html" aria-label="view" class="productcomp__item productcomp__item--view">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path d="M14.5726 16.0029C10.5755 19.1865 4.988 18.3056 2.02842 14.6542C-0.828088 11.129 -0.64944 6.04347 2.44943 2.82482C5.65137 -0.500594 10.6854 -0.944524 14.3346 1.78337C15.642 2.76051 16.6183 4.00364 17.2542 5.50838C17.8938 7.02186 18.0881 8.59654 17.8663 10.2205C17.6452 11.837 17 13.2775 15.9499 14.6217C16.0349 14.6773 16.1255 14.7173 16.1904 14.7822C17.3448 15.9311 18.4947 17.0843 19.6491 18.2331C19.9227 18.5054 20.0589 18.8225 19.9776 19.2047C19.8165 19.9651 18.9107 20.2586 18.3298 19.7366C18.0575 19.4925 17.807 19.2234 17.5484 18.9649C16.6002 18.0177 15.6526 17.0699 14.7044 16.1227C14.665 16.0853 14.6238 16.0503 14.5726 16.0029ZM15.9605 8.98677C15.9705 5.12689 12.8529 2.00627 8.98261 2.00065C5.12292 1.99503 2.00781 5.09068 1.99094 8.94806C1.97408 12.8173 5.08544 15.9467 8.96762 15.9648C12.8117 15.9829 15.9505 12.8504 15.9605 8.98677Z" fill="#3D3D3D"/>
                  </svg>
               </a>
            </div>
         </div>
         <div class="productcomp__body">
            <h5 class="productcomp__title"><a href="#">${e.name}</a></h5>
            <div class="productcomp__price">
               <span>$${S(e.price)}</span>
               ${t?`<del>$${S(e.originalPrice)}</del>`:""}
            </div>
         </div>
      </article>
      `}renderProducts(){const e=document.querySelector(".content-catalog__cards"),t=(this.currentPage-1)*this.itemsPerPage,s=t+this.itemsPerPage,l=this.filteredProducts.slice(t,s);e.innerHTML="",l.forEach(c=>{e.insertAdjacentHTML("beforeend",this.createProductCard(c))}),this.renderPagination()}renderPagination(){const e=Math.ceil(this.filteredProducts.length/this.itemsPerPage),t=document.querySelector(".pagination__list");if(t.innerHTML="",this.currentPage>1){const s=C.replace("<svg",'<svg style="transform: rotate(180deg)"');t.insertAdjacentHTML("beforeend",`
            <li class="pagination__item">
               <button type="button" class="pagination__prev">
                  ${s}
               </button>
            </li>
         `)}for(let s=1;s<=e;s++){const l=s===this.currentPage?" pagination__item--active":"";t.insertAdjacentHTML("beforeend",`
            <li class="pagination__item${l}">
               <button type="button">${s}</button>
            </li>
         `)}e>1&&this.currentPage<e&&t.insertAdjacentHTML("beforeend",`
            <li class="pagination__item">
               <button type="button" class="pagination__next">
                  ${C}
               </button>
            </li>
         `),e===0&&(document.querySelector(".content-catalog__cards").innerHTML='<p style="grid-column: 1/-1; text-align: center;">No products found matching your filters.</p>')}goToPage(e){e<1||e>Math.ceil(this.filteredProducts.length/this.itemsPerPage)||(this.currentPage=e,this.renderProducts(),window.scrollTo({top:0,behavior:"smooth"}))}}document.addEventListener("DOMContentLoaded",()=>{new E});
