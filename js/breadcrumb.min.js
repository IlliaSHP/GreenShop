class DynamicAdapt{constructor(){this.type="max",this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-fls-dynamic]")],this.nodes.forEach(n=>{const t=n.dataset.flsDynamic.trim().split(","),i={};i.element=n,i.parent=n.parentNode,i.destinationParent=t[3]&&n.closest(t[3].trim())||document,t[3]&&t[3].trim();const a=t[0]?t[0].trim():null;if(a){const r=i.destinationParent.querySelector(a);r&&(i.destination=r)}i.breakpoint=t[1]?t[1].trim():"767.98",i.place=t[2]?t[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.objects.push(i)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:n})=>`(${this.type}-width: ${n/16}em),${n}`).filter((n,e,t)=>t.indexOf(n)===e),this.mediaQueries.forEach(n=>{const e=n.split(","),t=window.matchMedia(e[0]),i=e[1],a=this.objects.filter(({breakpoint:r})=>r===i);t.addEventListener("change",()=>{this.mediaHandler(t,a)}),this.mediaHandler(t,a)})}mediaHandler(n,e){n.matches?e.forEach(t=>{t.destination&&this.moveTo(t.place,t.element,t.destination)}):e.forEach(({parent:t,element:i,index:a})=>{i.classList.contains(this.daClassname)&&this.moveBack(t,i,a)})}moveTo(n,e,t){e.classList.add(this.daClassname);const i=n==="last"||n==="first"?n:parseInt(n,10);i==="last"||i>=t.children.length?t.append(e):i==="first"?t.prepend(e):t.children[i].before(e)}moveBack(n,e,t){e.classList.remove(this.daClassname),n.children[t]!==void 0?n.children[t].before(e):n.append(e)}indexInParent(n,e){return[...n.children].indexOf(e)}arraySort(n){if(this.type==="min")n.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:e.place==="first"||t.place==="last"?-1:e.place==="last"||t.place==="first"?1:0:e.breakpoint-t.breakpoint);else{n.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:e.place==="first"||t.place==="last"?1:e.place==="last"||t.place==="first"?-1:0:t.breakpoint-e.breakpoint);return}}}document.querySelector("[data-fls-dynamic]")&&window.addEventListener("load",()=>window.flsDynamic=new DynamicAdapt);const quantityInput=document.querySelector(".count-actions__quantity"),plusButtons=document.querySelectorAll(".count-actions__button--plus, .product-action-sticky__count-btn--plus"),minusButtons=document.querySelectorAll(".count-actions__button--minus, .product-action-sticky__count-btn--minus");function getQuantity(){let s=parseInt(quantityInput.textContent.trim())||1;return Math.max(1,s)}function setQuantity(s){s=Math.max(1,parseInt(s)||1),quantityInput.textContent=s}plusButtons.forEach(s=>{s.addEventListener("click",function(n){n.preventDefault();const e=getQuantity();setQuantity(e+1)})}),minusButtons.forEach(s=>{s.addEventListener("click",function(n){n.preventDefault();const e=getQuantity();e>1&&setQuantity(e-1)})}),quantityInput.addEventListener("blur",function(){let s=parseInt(this.textContent.trim())||1;this.textContent=Math.max(1,s)}),quantityInput.addEventListener("input",function(){this.textContent=this.textContent.replace(/[^0-9]/g,"")});
